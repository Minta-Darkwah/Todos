import{s as U,f as A,a as T,l as X,A as de,g as D,d as _,c as N,h as V,m as Y,j as h,k as ne,x as S,i as E,B as z,n as Z,y as L,C as me,r as _e,u as pe,v as $e,w as ge,D as le,E as he,e as se,F as ae,G as ve,p as ye,H as be,I as ke,J as Ie,o as we}from"../chunks/scheduler.3258af2d.js";import{S as j,i as F,a as g,t as v,b,d as k,m as I,e as w,g as fe,c as ce,f as Ee}from"../chunks/index.310a20e0.js";function re(a){return(a==null?void 0:a.length)!==void 0?a:Array.from(a)}function Se(a){let e,n,t,l,o,s;return{c(){e=A("link"),n=T(),t=A("span"),l=X(a[0]),this.h()},l(r){const i=de("svelte-w60vmd",document.head);e=D(i,"LINK",{rel:!0,href:!0}),i.forEach(_),n=N(r),t=D(r,"SPAN",{class:!0,style:!0});var c=V(t);l=Y(c,a[0]),c.forEach(_),this.h()},h(){h(e,"rel","stylesheet"),h(e,"href","https://fonts.googleapis.com/icon?family=Material+Icons+Outlined"),h(t,"class","material-icons-outlined icon svelte-y47uu9"),ne(t,"--color",a[2])},m(r,i){S(document.head,e),E(r,n,i),E(r,t,i),S(t,l),o||(s=z(t,"click",function(){me(a[1])&&a[1].apply(this,arguments)}),o=!0)},p(r,[i]){a=r,i&1&&Z(l,a[0]),i&4&&ne(t,"--color",a[2])},i:L,o:L,d(r){r&&(_(n),_(t)),_(e),o=!1,s()}}}function Ae(a,e,n){let{name:t}=e,{handler:l=()=>{}}=e,{color:o="green"}=e;return a.$$set=s=>{"name"in s&&n(0,t=s.name),"handler"in s&&n(1,l=s.handler),"color"in s&&n(2,o=s.color)},[t,l,o]}class P extends j{constructor(e){super(),F(this,e,Ae,Se,U,{name:0,handler:1,color:2})}}function De(a){let e,n,t;const l=a[2].default,o=_e(l,a,a[1],null);return{c(){e=A("div"),o&&o.c(),this.h()},l(s){e=D(s,"DIV",{class:!0});var r=V(e);o&&o.l(r),r.forEach(_),this.h()},h(){h(e,"class",n="cell "+(a[0]?"cell-last":"")+" svelte-d783h4")},m(s,r){E(s,e,r),o&&o.m(e,null),t=!0},p(s,[r]){o&&o.p&&(!t||r&2)&&pe(o,l,s,s[1],t?ge(l,s[1],r,null):$e(s[1]),null),(!t||r&1&&n!==(n="cell "+(s[0]?"cell-last":"")+" svelte-d783h4"))&&h(e,"class",n)},i(s){t||(g(o,s),t=!0)},o(s){v(o,s),t=!1},d(s){s&&_(e),o&&o.d(s)}}}function Te(a,e,n){let{$$slots:t={},$$scope:l}=e,{last:o=!1}=e;return a.$$set=s=>{"last"in s&&n(0,o=s.last),"$$scope"in s&&n(1,l=s.$$scope)},[o,l,t]}class K extends j{constructor(e){super(),F(this,e,Te,De,U,{last:0})}}function Ne(a){let e,n=a[2](a[0])+"",t,l,o,s;return{c(){e=A("span"),t=X(n),this.h()},l(r){e=D(r,"SPAN",{class:!0});var i=V(e);t=Y(i,n),i.forEach(_),this.h()},h(){h(e,"class",l=le(a[1]?"DISABILITATO":a[2](a[0]))+" svelte-3d91nw")},m(r,i){E(r,e,i),S(e,t),o||(s=z(e,"click",a[3]),o=!0)},p(r,[i]){i&1&&n!==(n=r[2](r[0])+"")&&Z(t,n),i&3&&l!==(l=le(r[1]?"DISABILITATO":r[2](r[0]))+" svelte-3d91nw")&&h(e,"class",l)},i:L,o:L,d(r){r&&_(e),o=!1,s()}}}function Ce(a,e,n){let{prio:t=3}=e,{disabled:l=!1}=e;const o=r=>({1:"ALTA",2:"MEDIA",3:"BASSA"})[r],s=()=>{l||n(0,t=(t+1)%3+1)};return a.$$set=r=>{"prio"in r&&n(0,t=r.prio),"disabled"in r&&n(1,l=r.disabled)},[t,l,o,s]}class Ve extends j{constructor(e){super(),F(this,e,Ce,Ne,U,{prio:0,disabled:1})}}function Be(a){let e=a[0].id+"",n;return{c(){n=X(e)},l(t){n=Y(t,e)},m(t,l){E(t,n,l)},p(t,l){l&1&&e!==(e=t[0].id+"")&&Z(n,e)},d(t){t&&_(n)}}}function Oe(a){let e,n;return e=new P({props:{name:"task_alt",handler:a[1]}}),{c(){b(e.$$.fragment)},l(t){k(e.$$.fragment,t)},m(t,l){I(e,t,l),n=!0},p:L,i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){w(e,t)}}}function Pe(a){let e,n;return e=new P({props:{name:"circle",handler:a[1],color:"red"}}),{c(){b(e.$$.fragment)},l(t){k(e.$$.fragment,t)},m(t,l){I(e,t,l),n=!0},p:L,i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){w(e,t)}}}function Le(a){let e,n,t,l;const o=[Pe,Oe],s=[];function r(i,c){return i[0].done==!1?0:1}return e=r(a),n=s[e]=o[e](a),{c(){n.c(),t=se()},l(i){n.l(i),t=se()},m(i,c){s[e].m(i,c),E(i,t,c),l=!0},p(i,c){let y=e;e=r(i),e===y?s[e].p(i,c):(fe(),v(s[y],1,1,()=>{s[y]=null}),ce(),n=s[e],n?n.p(i,c):(n=s[e]=o[e](i),n.c()),g(n,1),n.m(t.parentNode,t))},i(i){l||(g(n),l=!0)},o(i){v(n),l=!1},d(i){i&&_(t),s[e].d(i)}}}function qe(a){let e,n,t,l,o;return{c(){e=A("input"),this.h()},l(s){e=D(s,"INPUT",{type:!0,class:!0,id:!0,placeholder:!0}),this.h()},h(){h(e,"type","text"),h(e,"class",n="todo-item-input-text "+(a[0].done==!0?"text-done":"")+" svelte-hayfgk"),h(e,"id",t=a[0].id),h(e,"placeholder","inserisci il nuovo ToDo")},m(s,r){E(s,e,r),ae(e,a[0].task),l||(o=[z(e,"input",a[5]),z(e,"change",a[2])],l=!0)},p(s,r){r&1&&n!==(n="todo-item-input-text "+(s[0].done==!0?"text-done":"")+" svelte-hayfgk")&&h(e,"class",n),r&1&&t!==(t=s[0].id)&&h(e,"id",t),r&1&&e.value!==s[0].task&&ae(e,s[0].task)},d(s){s&&_(e),l=!1,ve(o)}}}function Je(a){let e,n,t;function l(s){a[6](s)}let o={disabled:a[0].done};return a[0].priority!==void 0&&(o.prio=a[0].priority),e=new Ve({props:o}),ye.push(()=>Ee(e,"prio",l)),{c(){b(e.$$.fragment)},l(s){k(e.$$.fragment,s)},m(s,r){I(e,s,r),t=!0},p(s,r){const i={};r&1&&(i.disabled=s[0].done),!n&&r&1&&(n=!0,i.prio=s[0].priority,be(()=>n=!1)),e.$set(i)},i(s){t||(g(e.$$.fragment,s),t=!0)},o(s){v(e.$$.fragment,s),t=!1},d(s){w(e,s)}}}function Me(a){let e,n;return e=new P({props:{name:"delete_forever",color:"red",handler:a[7]}}),{c(){b(e.$$.fragment)},l(t){k(e.$$.fragment,t)},m(t,l){I(e,t,l),n=!0},p:L,i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){w(e,t)}}}function He(a){let e,n,t,l,o,s,r,i,c,y;return e=new K({props:{$$slots:{default:[Be]},$$scope:{ctx:a}}}),t=new K({props:{$$slots:{default:[Le]},$$scope:{ctx:a}}}),o=new K({props:{$$slots:{default:[qe]},$$scope:{ctx:a}}}),r=new K({props:{$$slots:{default:[Je]},$$scope:{ctx:a}}}),c=new K({props:{last:!0,$$slots:{default:[Me]},$$scope:{ctx:a}}}),{c(){b(e.$$.fragment),n=T(),b(t.$$.fragment),l=T(),b(o.$$.fragment),s=T(),b(r.$$.fragment),i=T(),b(c.$$.fragment)},l(f){k(e.$$.fragment,f),n=N(f),k(t.$$.fragment,f),l=N(f),k(o.$$.fragment,f),s=N(f),k(r.$$.fragment,f),i=N(f),k(c.$$.fragment,f)},m(f,d){I(e,f,d),E(f,n,d),I(t,f,d),E(f,l,d),I(o,f,d),E(f,s,d),I(r,f,d),E(f,i,d),I(c,f,d),y=!0},p(f,[d]){const M={};d&513&&(M.$$scope={dirty:d,ctx:f}),e.$set(M);const B={};d&513&&(B.$$scope={dirty:d,ctx:f}),t.$set(B);const C={};d&513&&(C.$$scope={dirty:d,ctx:f}),o.$set(C);const H={};d&513&&(H.$$scope={dirty:d,ctx:f}),r.$set(H);const O={};d&512&&(O.$$scope={dirty:d,ctx:f}),c.$set(O)},i(f){y||(g(e.$$.fragment,f),g(t.$$.fragment,f),g(o.$$.fragment,f),g(r.$$.fragment,f),g(c.$$.fragment,f),y=!0)},o(f){v(e.$$.fragment,f),v(t.$$.fragment,f),v(o.$$.fragment,f),v(r.$$.fragment,f),v(c.$$.fragment,f),y=!1},d(f){f&&(_(n),_(l),_(s),_(i)),w(e,f),w(t,f),w(o,f),w(r,f),w(c,f)}}}function Ue(a,e,n){let{todo:t}=e,l=t.priority;const o=he(),s=()=>{n(0,t.done=!t.done,t),i("update")},r=()=>{document.getElementById(t.id).blur(),i("update")},i=d=>{o("change",{type:d,id:t.id})};function c(){t.task=this.value,n(0,t)}function y(d){a.$$.not_equal(t.priority,d)&&(t.priority=d,n(0,t))}const f=()=>i("delete");return a.$$set=d=>{"todo"in d&&n(0,t=d.todo)},a.$$.update=()=>{a.$$.dirty&17&&t.priority!=l&&(n(4,l=t.priority),i("update"))},[t,s,r,i,l,c,y,f]}class je extends j{constructor(e){super(),F(this,e,Ue,He,U,{todo:0})}}function oe(a,e,n){const t=a.slice();return t[6]=e[n],t}function ie(a){let e,n;return e=new je({props:{todo:a[6]}}),e.$on("change",a[2]),{c(){b(e.$$.fragment)},l(t){k(e.$$.fragment,t)},m(t,l){I(e,t,l),n=!0},p(t,l){const o={};l&1&&(o.todo=t[6]),e.$set(o)},i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){w(e,t)}}}function Fe(a){let e,n="ToDos",t,l,o,s,r,i,c,y,f,d,M,B,C,H,O,q,Q,R;s=new P({props:{name:"tag"}}),c=new P({props:{name:"task_alt"}}),d=new P({props:{name:"list"}}),C=new P({props:{name:"schedule"}}),q=new P({props:{name:"add_box",handler:a[1]}});let J=re(a[0]),p=[];for(let u=0;u<J.length;u+=1)p[u]=ie(oe(a,J,u));const ue=u=>v(p[u],1,1,()=>{p[u]=null});return{c(){e=A("h1"),e.textContent=n,t=T(),l=A("div"),o=A("div"),b(s.$$.fragment),r=T(),i=A("div"),b(c.$$.fragment),y=T(),f=A("div"),b(d.$$.fragment),M=T(),B=A("div"),b(C.$$.fragment),H=T(),O=A("div"),b(q.$$.fragment),Q=T();for(let u=0;u<p.length;u+=1)p[u].c();this.h()},l(u){e=D(u,"H1",{class:!0,"data-svelte-h":!0}),ke(e)!=="svelte-nh6ksq"&&(e.textContent=n),t=N(u),l=D(u,"DIV",{class:!0});var m=V(l);o=D(m,"DIV",{class:!0});var $=V(o);k(s.$$.fragment,$),$.forEach(_),r=N(m),i=D(m,"DIV",{class:!0});var G=V(i);k(c.$$.fragment,G),G.forEach(_),y=N(m),f=D(m,"DIV",{class:!0});var x=V(f);k(d.$$.fragment,x),x.forEach(_),M=N(m),B=D(m,"DIV",{class:!0});var ee=V(B);k(C.$$.fragment,ee),ee.forEach(_),H=N(m),O=D(m,"DIV",{class:!0});var te=V(O);k(q.$$.fragment,te),te.forEach(_),Q=N(m);for(let W=0;W<p.length;W+=1)p[W].l(m);m.forEach(_),this.h()},h(){h(e,"class","app-title svelte-1i7ftam"),h(o,"class","header svelte-1i7ftam"),h(i,"class","header svelte-1i7ftam"),h(f,"class","header svelte-1i7ftam"),h(B,"class","header svelte-1i7ftam"),h(O,"class","header header-last svelte-1i7ftam"),h(l,"class","todo-list svelte-1i7ftam")},m(u,m){E(u,e,m),E(u,t,m),E(u,l,m),S(l,o),I(s,o,null),S(l,r),S(l,i),I(c,i,null),S(l,y),S(l,f),I(d,f,null),S(l,M),S(l,B),I(C,B,null),S(l,H),S(l,O),I(q,O,null),S(l,Q);for(let $=0;$<p.length;$+=1)p[$]&&p[$].m(l,null);R=!0},p(u,[m]){if(m&5){J=re(u[0]);let $;for($=0;$<J.length;$+=1){const G=oe(u,J,$);p[$]?(p[$].p(G,m),g(p[$],1)):(p[$]=ie(G),p[$].c(),g(p[$],1),p[$].m(l,null))}for(fe(),$=J.length;$<p.length;$+=1)ue($);ce()}},i(u){if(!R){g(s.$$.fragment,u),g(c.$$.fragment,u),g(d.$$.fragment,u),g(C.$$.fragment,u),g(q.$$.fragment,u);for(let m=0;m<J.length;m+=1)g(p[m]);R=!0}},o(u){v(s.$$.fragment,u),v(c.$$.fragment,u),v(d.$$.fragment,u),v(C.$$.fragment,u),v(q.$$.fragment,u),p=p.filter(Boolean);for(let m=0;m<p.length;m+=1)v(p[m]);R=!1},d(u){u&&(_(e),_(t),_(l)),w(s),w(c),w(d),w(C),w(q),Ie(p,u)}}}function Ge(a,e,n){let t=[],l=0;const o=async()=>{let c={id:++l,task:"",done:!1,priority:3};console.log("CREATE:",c),localStorage.setItem(`todo${c.id}`,JSON.stringify(c)),n(0,t=[...t,c])},s=async c=>{switch(c.detail.type){case"update":r(c.detail.id);break;case"delete":i(c.detail.id);break}},r=c=>{console.log("UPDATE:",c);const y=t.filter(f=>f.id==c)[0];localStorage.setItem(`todo${c}`,JSON.stringify(y))},i=c=>{console.log("DELETE:",c),n(0,t=t.filter(y=>y.id!=c)),localStorage.removeItem(`todo${c}`)};return we(async()=>{for(let c=0;c<localStorage.length;c++){const y=localStorage.key(c),f=JSON.parse(localStorage.getItem(y));f!=null&&t.push(f)}n(0,t=[...t])}),[t,o,s]}class Ke extends j{constructor(e){super(),F(this,e,Ge,Fe,U,{})}}function Re(a){let e,n,t;return n=new Ke({}),{c(){e=A("main"),b(n.$$.fragment),this.h()},l(l){e=D(l,"MAIN",{class:!0});var o=V(e);k(n.$$.fragment,o),o.forEach(_),this.h()},h(){h(e,"class","svelte-bhiqsu")},m(l,o){E(l,e,o),I(n,e,null),t=!0},p:L,i(l){t||(g(n.$$.fragment,l),t=!0)},o(l){v(n.$$.fragment,l),t=!1},d(l){l&&_(e),w(n)}}}class We extends j{constructor(e){super(),F(this,e,null,Re,U,{})}}export{We as component};
